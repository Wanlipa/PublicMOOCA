<%- include('includes/head.ejs') %>

  </head>

  <body>
    <%- include('includes/navigation.ejs') %>


      <div class="container">
        <br>
        <h1>Course Visualization</h1>

        <div id="structure"></div>
        <div id="learners"></div>
        <!-- information -->
        <div>
          <!-- Nav tabs -->
          <ul class="nav nav-tabs" id="myTab" role="tablist">
            <li class="nav-item">
              <a class="nav-link active" id="courseinfo-tab" data-toggle="tab" href="#courseinfo" role="tab" aria-controls="courseinfo"
                aria-selected="true">Course Information</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" id="analysis-tab" data-toggle="tab" href="#analysis" role="tab" aria-controls="analysis" aria-selected="false">Analysis</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" id="components-tab" data-toggle="tab" href="#components" role="tab" aria-controls="components" aria-selected="false">Components</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" id="learner-tab" data-toggle="tab" href="#learner" role="tab" aria-controls="learner" aria-selected="false">learner</a>
            </li>

            
          </ul>

          <!-- Tab panes -->
          <div class="tab-content">
            <div class="tab-pane active" id="courseinfo" role="tabpanel" aria-labelledby="courseinfo-tab">
              <p>Course Name:
                <%= course.courseName %>
              </p>
              <p>Course Number:
                <%= course.courseNumber %>
              </p>
              <p>Course Description:
                <%= course.description %>
              </p>
              <p>Pass Rate:
                <%= course.passRate %>
              </p>
              <p>Subject Area:
                <%= course.subjectArea %>
              </p>
              <p>Registered:
                <%= course.registered %>
              </p>
            </div>
            <div class="tab-pane" id="analysis" role="tabpanel" aria-labelledby="analysis-tab">
              <p>Course Length Clustering:
                <%= course.cLength %>
              </p>
              <p>Course Bloom's Taxonomy Clustering:
                <%= course.cBloom %>
              </p>
            </div>
            <div class="tab-pane" id="components" role="tabpanel" aria-labelledby="components-tab">
              <p>HTML: </p>
              <p>Videos: </p>
              <p>Problems: </p>
              <p>Discussion: </p>
            </div>
            
            <div class="tab-pane" id="learner" role="tabpanel" aria-labelledby="learner-tab">
              <p>learner</p>
            </div>
          </div>
        </div>
      </div>

      <script>
        // Course Structure
        var trace1 = {
          x: [1, 3, 6, 8, 14, 34, 36, 38, 50, 65, 67, 69, 89, 93, 95, 97],
          y: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
          mode: 'markers',
          type: 'scatter',
          name: 'chapter',
          text: ['แนะนำ THAI MOOC', 'เริ่มต้นก่อนเรียนรู้', 'แบบทดสอบก่อนเรียน', 'พื้นฐานการทำงานของเว็บไซต์บนเครือข่ายอินเทอร์เน็ต',
            'มาตรฐาน HTML', 'Exercise 1 : แบบทดสอบหลังเรียนที่ 1', 'Exercise 2 : แบบทดสอบหลังเรียนที่ 2', 'มาตรฐาน CSS', 'Style',
            'Exercise 3 : แบบทดสอบหลังเรียนที่ 3', 'Exercise 4 : แบบทดสอบหลังเรียนที่ 4', 'การสร้างหน้าเว็บด้วย HTML และ CSS ผ่านการลงมือทำปฏิบัติการ',
            'ความรู้อื่น ๆ ที่จำเป็นเพื่อพัฒนาตนเองไปสู่การเป็นนักพัฒนาเว็บเต็มรูปแบบ', 'Exercise 5 : แบบทดสอบหลังเรียนที่ 5', 'แบบทดสอบหลังเรียน', 'แบบสำรวจหลังเรียนออนไลน์ในระบบไทยมูค (ThaiMOOC)'],
          marker: { size: 15, symbol: 'line-ns-open', color: 'DarkGray' }
        };


        var trace2 = {
          x: [2, 4, 9, 10, 11, 12, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 90, 91, 92],
          y: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
          mode: 'markers',
          type: 'scatter',
          name: 'video',
          text: ['B-a', 'B-b', 'B-c', 'B-d', 'B-e'],
          marker: { size: 15, symbol: 'circle', color: 'green' }
        };

        var trace3 = {
          x: [5, 13, 98],
          y: [1, 1, 1],
          mode: 'markers',
          type: 'scatter',
          name: 'html',
          text: ['html1', 'html2', 'html3', 'html4', 'html5'],
          marker: { size: 15, symbol: 'triangle-up', color: 'orange' }
        };

        var trace4 = {
          x: [7, 35, 37, 66, 68, 94, 96],
          y: [1, 1, 1, 1, 1, 1, 1],
          mode: 'markers',
          type: 'scatter',
          name: 'problem',
          text: ['แบบทดสอบก่อนเรียน', 'Exercise 1 : แบบทดสอบหลังเรียนที่ 1', 'Exercise 2 : แบบทดสอบหลังเรียนที่ 2',
            'Exercise 3 : แบบทดสอบหลังเรียนที่ 3', 'Exercise 4 : แบบทดสอบหลังเรียนที่ 4', 'Exercise 5 : แบบทดสอบหลังเรียนที่ 4', 'แบบทดสอบหลังเรียน'],

          marker: { size: 15, symbol: 'diamond-tall', color: 'blue' }
        };

        var trace5 = {
          x: [13],
          y: [1],
          mode: 'markers',
          type: 'scatter',
          name: 'Discussion',
          text: ['Hello World'],
          marker: { size: 15, symbol: 'pentagon', color: 'red' }
        };
        var data = [trace1, trace2, trace3, trace4, trace5];

        var layout = {
          xaxis: {
            range: [-5.85, 112.07]
          },
          yaxis: {
            range: [0, 2]
          },
          title: 'HTML & CSS'
        };

        Plotly.newPlot('structure', data, layout);

        // Learners
        var learner1 = {
          x: ['Pre-test', 'Exercise1', 'Exercise2', 'Exercise3', 'Exercise4', 'Exercise5', 'Post-test'],
          y: [663, 956, 958, 1013, 1016, 1030, 1015],
          name: 'Not Attempted',
          type: 'bar'
        };

        var learner2 = {
          x: ['Pre-test', 'Exercise1', 'Exercise2', 'Exercise3', 'Exercise4', 'Exercise5', 'Post-test'],
          y: [540, 247, 245, 190, 187, 173, 188],
          name: 'Attempted',
          type: 'bar'
        };

        var data2 = [learner1, learner2];

        var layout = { barmode: 'stack' };

        Plotly.newPlot('learners', data2, layout);

      </script>


      <%- include('includes/end.ejs') %>